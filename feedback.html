<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <title>SESS Feedback</title>

    <link rel="shortcut icon" href="" type="image/x-icon">
    <link rel="apple-touch-icon" href="">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/conversational-form-master/dist/conversational-form-dark.css">
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/chat.css">
    <link rel="stylesheet" href="assets/css/fonts.css">
</head>

<body>
    <form id="form" class="textgtreg">

        <cf-robot-message cf-questions="Hi there! &#x1F44B;&amp;&amp;Thanks for stopping by!&amp;&amp;You are a valued member of SESS and we would love to improve... please leave your honest feedback below and suggestions on how we could resolve your observation(s) &#x1F60A;"></cf-robot-message>
        
        <fieldset cf-questions="Is your feedback sensitive and only should be seen by the team maintaining this form?" cf-error="Please choose an option.">
            <input required type="radio" name="fbsensitive" id="fbsensitiveyes" value="yes">
            <label for="fbsensitiveyes">Yes</label>

            <input required type="radio" name="fbsensitive" id="fbsensitiveno" value="no">
            <label for="fbsensitiveno">No</label>
        </fieldset>

        <fieldset cf-questions="What is the nature of your feedback?" cf-error="Please choose an option.">
            <input required type="radio" name="fbnature" id="fbnature1" value="complaint">
            <label for="fbnature1">Complaint</label>

            <input required type="radio" name="fbnature" id="fbnature2" value="compliment">
            <label for="fbnature2">Compliment</label>

            <input required type="radio" name="fbnature" id="fbnature3" value="idea">
            <label for="fbnature3">Idea</label>

            <input required type="radio" name="fbnature" id="fbnature4" value="other">
            <label for="fbnature4">Other</label>
        </fieldset>
        
        <fieldset cf-questions="Does your feedback relate to a specific team?" cf-error="Please choose an option.">
            <input required type="radio" name="fbteam" id="fbteam1" value="board">
            <label for="fbteam1">Board</label>

            <input required type="radio" name="fbteam" id="fbteam2" value="committee">
            <label for="fbteam2">Whole Committee</label>

            <input required type="radio" name="fbteam" id="fbteam3" value="events">
            <label for="fbteam3">Events</label>

            <input required type="radio" name="fbteam" id="fbteam4" value="commscreative">
            <label for="fbteam4">Comms/Creative</label>
            
            <input required type="radio" name="fbteam" id="fbteam5" value="ambassadors">
            <label for="fbteam5">Ambassadors</label>
            
            <input required type="radio" name="fbteam" id="fbteam6" value="other">
            <label for="fbteam6">Other</label>
        </fieldset>

        <input  type="text" name="complaintdetail" id="complaintdetail" cf-questions="Oh no! What happened?" cf-conditional-fbnature="complaint" />
        
        <input  type="text" name="complimentideadetail" id="complimentideadetail" cf-questions="Oooh! Tell us about it!" cf-conditional-fbnature="compliment||idea" />
                
        <input  type="text" name="otherdetail" id="otherdetail" cf-questions="Ok... What happened?" cf-conditional-fbnature="other" />
        
        <input  type="text" name="complaintothersugg" id="complaintothersugg" cf-questions="Do you have an idea of how we could improve?" cf-conditional-complaintdetail="[\w\W]*" cf-conditional-otherdetail="[\w\W]*" cf-conditional-fbnature="complaint||other" />
        
        <input  type="text" name="complimentideasugg" id="complimentideasugg" cf-questions="Sweet! What could we do to make it better?" cf-conditional-complimentideadetail="[\w\W]*" cf-conditional-fbnature="compliment||idea" />

        <fieldset cf-questions="Perfect! All done...&amp;&amp;Thanks for your feedback! Feel free to come back at any time... SESS can only improve when we all speak up, even anonymously&amp;&amp;Please click the button below to submit this form">
            <input required type="radio" name="submit" id="submit" value="yes">
            <label for="submit">Byeee!</label>
        </fieldset>

    </form>
    <div id="cf-context" role="cf-context" cf-context></div>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>
    <script src="assets/conversational-form-master/dist/conversational-form.js"></script>
    <script>
        window.onload = function() {
            var testValidation = function(dto, success, error) {
                console.log("dto....", dto, success, error);
                if (dto.text.indexOf("world") != -1) return success();
                return error();
            };

            const dispatcher = new cf.EventDispatcher();
            dispatcher.addEventListener(
                cf.ChatListEvents.CHATLIST_UPDATED,
                function(event) {
                    // console.log("chat list updated...", event);
                },
                false
            );

            var conversationalForm = new cf.ConversationalForm({
                formEl: document.getElementById("form"),
                context: document.getElementById("cf-context"),
                /*userInterfaceOptions: {
                    controlElementsInAnimationDelay: 250,
                    robot: {
                        robotResponseTime: 1000,
                        chainedResponseTime: 2000
                    },
                    user: {
                        showThinking: false,
                        showThumb: true
                    }
                },*/
                robotImage: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA4MDAgODAwIj48ZyBpZD0iYWMzMDQwNDktMTY3YS00OWQ1LWI2ZjUtMjdiNzRiYzI0MjEzIiBkYXRhLW5hbWU9IkxheWVyIDIiPjxnIGlkPSJlMDU1MzEzZC0xOWUzLTRhYzYtOWI5Mi1hY2JmZTI0MGQzNjAiIGRhdGEtbmFtZT0iTGF5ZXIgMSI+PHJlY3Qgd2lkdGg9IjgwMCIgaGVpZ2h0PSI4MDAiIHN0eWxlPSJmaWxsOiMyOTI5MjkiLz48cG9seWdvbiBwb2ludHM9IjI0OCA0NTEuMjA1IDQ0Ny43OTUgNjUxIDU1MC4zMjYgNjUxIDI0OCAzNDguNjc0IDI0OCA0NTEuMjA1IiBzdHlsZT0iZmlsbDojZmZmIi8+PHBvbHlnb24gcG9pbnRzPSI1NTIuMjA1IDI0OCA0NTAuMzgyIDI0OCA2NTIgNDQ5LjYxOCA2NTIgMzQ3Ljc5NSA1NTIuMjA1IDI0OCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjxwb2x5Z29uIHBvaW50cz0iMjQ4LjE0OSAyNDggNjUyIDY1MS44NTEgNjUyIDU1MS40NDIgMzQ4LjU1OCAyNDggMjQ4LjE0OSAyNDgiIHN0eWxlPSJmaWxsOiNmZmYiLz48cG9seWdvbiBwb2ludHM9IjI0OCA2NTEgMzQ1Ljk3MiA2NTEgMjQ4IDU1My4wMjggMjQ4IDY1MSIgc3R5bGU9ImZpbGw6I2ZmZiIvPjxwb2x5Z29uIHBvaW50cz0iNTUyLjE3IDM0OS43OTUgMzUyLjM3NSAxNTAgMjQ5Ljg0NSAxNTAgNTUyLjE3IDQ1Mi4zMjYgNTUyLjE3IDM0OS43OTUiIHN0eWxlPSJmaWxsOiNmZmYiLz48cG9seWdvbiBwb2ludHM9IjI0Ny43OTUgNTUzIDM0OS42MTggNTUzIDE0OCAzNTEuMzgxIDE0OCA0NTMuMjA1IDI0Ny43OTUgNTUzIiBzdHlsZT0iZmlsbDojZmZmIi8+PHBvbHlnb24gcG9pbnRzPSI1NTEuODUxIDU1MiAxNDggMTQ4LjE0OSAxNDggMjQ4LjU1OCA0NTEuNDQyIDU1MiA1NTEuODUxIDU1MiIgc3R5bGU9ImZpbGw6I2ZmZiIvPjxwb2x5Z29uIHBvaW50cz0iNTUyLjE3IDE1MCA0NTQuMTk4IDE1MCA1NTIuMTcgMjQ3Ljk3MiA1NTIuMTcgMTUwIiBzdHlsZT0iZmlsbDojZmZmIi8+PHJlY3QgeD0iMjQ4IiB5PSIyNDgiIHdpZHRoPSIzMDQiIGhlaWdodD0iMzA0IiBzdHlsZT0iZmlsbDojZmZmIi8+PC9nPjwvZz48L3N2Zz4=",
                eventDispatcher: dispatcher,
                preventAutoFocus: false,
                showProgressBar: true,
                loadExternalStyleSheet: false,
                theme: 'dark',
                flowStepCallback: function(dto, success, error) {
                    success();
                },
                submitCallback: function() {

                    var formData = conversationalForm.getFormData();
                    var formDataSerialized = conversationalForm.getFormData(true);
                    console.log("Formdata:", formData);
                    console.log("Formdata, serialized:", formDataSerialized);

                    /*$(function() {
                        var jqxhr = $.post("https://api.formcake.com/api/form/94b7d541-3072-4b45-8f39-8f5cb109c447/submission", $("#form").serialize(), function(data) {
                            console.log("Success! Data: " + formDataSerialized);
                            $(location).attr('href', 'https://peapeed-convo-form.netlify.app/success.html');
                        });
                    })*/

                }
            });
        };

    </script>
</body>

</html>
